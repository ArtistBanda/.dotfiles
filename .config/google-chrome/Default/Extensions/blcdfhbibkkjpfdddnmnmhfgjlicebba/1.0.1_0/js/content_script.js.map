{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./src/js/app/content_script.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js"],"names":["querystring","require","browser","chrome","globalWindow","checkForWindow","window","e","ReferenceError","secondsToTimeStr","sec","secNum","parseInt","hours","Math","floor","minutes","formatDate","date","days","months","dayName","getDay","monthName","getMonth","day","getDate","toUpperCase","createTimerDiv","timeSpent","domain","bookStyles","timeString","dateString","Date","timerContent","closeBtn","appendCloseBtn","timerEl","closeBtnEl","document","createElement","innerHTML","addEventListener","style","display","appendChild","timer","getElementById","shadowRoot","wrapper","all","id","attachShadow","mode","div","body","getElementsByTagName","makeDraggable","el","left","top","isDragging","clientX","offsetLeft","clientY","offsetTop","target","removeTimerDiv","timerDiv","parentNode","removeChild","checkIfAllowed","runtime","sendMessage","isUrlAllowed","qString","stringify","url","location","href","replace","getURL","onMessage","addListener","msg","sender","response","subject","isShowTimer"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnFA,MAAMA,WAAW,GAAGC,mBAAO,CAAC,CAAD,CAA3B;;AAEA,IAAIC,OAAJ;;AAEA,IAAI,CAACA,OAAL,EAAc;AACVA,SAAO,GAAGC,MAAV;AACH;;AAED,IAAIC,YAAJ;;AAEA,IAAIC,cAAc,GAAG,YAAW;AAC5B;AACA;AACA,MAAI;AACAD,gBAAY,GAAGE,MAAf;AACH,GAFD,CAEE,OAAOC,CAAP,EAAU;AACR,QAAIA,CAAC,YAAYC,cAAjB,EAAiC;AAC7B,aAAO,KAAP;AACH;;AACD,WAAO,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","file":"js/content_script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 157);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","\nconst querystring = require('querystring');\n\nvar browser;\n\nif (!browser) {\n    browser = chrome;\n}\n\nvar globalWindow;\n\nvar checkForWindow = function() {\n    // errors get reported that window is undefined on specific sites\n    // the glubalWindow variable is just so we can suppress these errors\n    try {\n        globalWindow = window;\n    } catch (e) {\n        if (e instanceof ReferenceError) {\n            return false;\n        }\n        return true;\n    }\n    return true;\n};\n\nvar secondsToTimeStr = function(sec) {\n    var secNum = parseInt(sec, 10);\n\n    let hours   = Math.floor(secNum / 3600);\n    let minutes = Math.floor(secNum / 60) % 60;\n\n    if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n    } else if (minutes > 1) {\n        return `${minutes} minutes`;\n    } else {\n        return `${minutes} minute`;\n    }\n};\n\nvar formatDate = function(date) {\n    let days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let dayName = days[date.getDay()];\n    let monthName  = months[date.getMonth()];\n    let day = date.getDate();\n\n    return `${dayName}, ${monthName} ${day}`.toUpperCase() ;\n};\n\n\nvar createTimerDiv = function(timeSpent, domain) {\n\n    let bookStyles = {\n        'color': '#ffffff',\n        'backgroundColor': 'grey',\n        'opacity': '0.9',\n        'position': 'fixed',\n        'top': '20px',\n        'left': '20px',\n        'border': '1px solid #000000',\n        'border-radius': '5px',\n        'z-index': '99999999999',\n        'font-size': '16px',\n        'line-height': '20px',\n        'font-family': 'sans-serif',\n        'text-align': 'center',\n        'cursor': 'move',\n        'resize': 'both',\n        'overflow': 'hidden',\n        'user-select': 'none',\n    };\n\n    let timeString = secondsToTimeStr(timeSpent);\n    let dateString = formatDate(new Date());\n\n    let timerContent = '<div style=\"box-sizing: border-box; height: 100%; width: 100%; padding: 10px 20px; display: flex; flex-direction: column;\">';\n    timerContent += `<div style=\"font-size:14px;\">${dateString}</div>`;\n    timerContent += `<div style=\"font-weight:bold;\">Time spent on</div>`;\n    timerContent += `<div>${domain}</div>`;\n    timerContent += `<div style=\"font-weight:bold; font-size:20px; padding-top: 5px; flex-grow: 1\">${timeString}</div>`;\n    timerContent += '</div>';\n\n    const closeBtn = `<svg viewport=\"0 0 12 12\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" style=\"\n        position: absolute;\n        top: 5px;\n        right: 5px;\n        cursor: pointer;\n        font-size: 14px;\n        width: 12px;\n        font-weight: bold;\n        height: 12px;\n    \">\n        <line x1=\"1\" y1=\"11\" x2=\"11\" y2=\"1\" stroke=\"white\" stroke-width=\"2\"></line>\n        <line x1=\"1\" y1=\"1\" x2=\"11\" y2=\"11\" stroke=\"white\" stroke-width=\"2\"></line>\n    </svg>`;\n\n    const appendCloseBtn = (timerEl) => {\n        const closeBtnEl = document.createElement('div');\n        closeBtnEl.innerHTML = closeBtn;\n        closeBtnEl.addEventListener('click', () => {\n            timerEl.style.display = 'none';\n        });\n\n        timerEl.appendChild(closeBtnEl);\n    };\n\n    let timer = document.getElementById('limit-extension-timer-wrapper');\n    if (timer) {\n        const timerEl = timer.shadowRoot.getElementById('limit-extension-content-timer');\n        timerEl.innerHTML = timerContent;\n        appendCloseBtn(timerEl);\n    } else {\n        let wrapper = document.createElement('div');\n        wrapper.style.all = 'revert';\n        wrapper.id = 'limit-extension-timer-wrapper';\n        wrapper.attachShadow({ mode: 'open' });\n\n        let div = document.createElement(\"div\");\n        div.innerHTML = timerContent;\n        div.id = 'limit-extension-content-timer';\n\n        for (let style in bookStyles) {\n            div.style[style] = bookStyles[style];\n        }\n\n        appendCloseBtn(div);\n\n        let body = document.getElementsByTagName('body')[0];\n\n        if (body) {\n            // append to body if it exists\n            // if it does not exist, we will try again in the next call of the function in 1 sec\n            wrapper.shadowRoot.appendChild(div);\n            body.appendChild(wrapper);\n\n            const makeDraggable = (el) => {\n                let [left, top] = [0, 0];\n                let isDragging = false;\n\n                el.addEventListener('mousedown', (e) => {\n                    left = e.clientX - el.offsetLeft;\n                    top = e.clientY - el.offsetTop;\n                    // Prevents the resize handle from triggering the drag\n                    if (e.target !== el) {\n                        isDragging = true;\n                    }\n                });\n\n                document.addEventListener('mousemove', (e) => {\n                    if (isDragging) {\n                        el.style.left = `${e.clientX - left}px`;\n                        el.style.top = `${e.clientY - top}px`;\n                    }\n                });\n\n                el.addEventListener('mouseup', () => {\n                    isDragging = false;\n                });\n            };\n\n            makeDraggable(div);\n        }\n    }\n};\n\nvar removeTimerDiv = function () {\n    let timerDiv = document.getElementById('limit-extension-timer-wrapper');\n    if (timerDiv) {\n        timerDiv.parentNode.removeChild(timerDiv);\n    }\n\n};\n\nconst checkIfAllowed = () => {\n    browser.runtime.sendMessage({\n        'subject': 'isUrlAllowed',\n    }, function(isUrlAllowed) {\n\n        if (isUrlAllowed == false) {\n            if (!checkForWindow()) {\n                return;\n            }\n            // redirect to green screen\n            let qString = querystring.stringify( { url: window.location.href});\n            globalWindow.location.replace(browser.runtime.getURL('html/limit.html')+\"?\"+qString);\n        }\n    });\n};\n\ncheckIfAllowed();\n\nbrowser.runtime.onMessage.addListener(function (msg, sender, response) {\n    if (msg.subject === 'setTimer') {\n        // setTimer message received (1 per minute)\n        createTimerDiv(msg.timeSpent, msg.domain);\n    } else if (msg.subject === 'showTimer') {\n        // remove timer if the user just disabled it from the settings\n        // we are not covering the case of enabling the timer here,\n        // because we will receive a setTimer message within 10 seconds\n        if (!msg.isShowTimer) {\n            removeTimerDiv();\n        }\n    } else if (msg.subject === 'extensionInactive') {\n        // remove timer if the user just disabled the extension\n        removeTimerDiv();\n    } else if (msg.subject === 'extensionActive') {\n        // check if the url after limiter re-activation\n        checkIfAllowed();\n    }\n\n});\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    browser.runtime.sendMessage({\n        subject: 'getTimer',\n    });\n});\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n"],"sourceRoot":""}